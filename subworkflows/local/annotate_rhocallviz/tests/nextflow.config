process {
    withName: 'ANNOTATE_RHOCALLVIZ:BCFTOOLS_ROH' {
        ext.args   = { "--AF-tag gnomad_af --skip-indels" }
    }
    withName: 'ANNOTATE_RHOCALLVIZ:BCFTOOLS_VIEW_UNCOMPRESS' {
        ext.args   = { "--output-type v" }
    }
    withName: 'ANNOTATE_RHOCALLVIZ:RHOCALL_VIZ' {
        ext.prefix = { "${meta.id}_rhocallviz" }
        ext.args   = { "--aftag gnomad_af --minqual 0 --minaf 0" }
    }
    withName: 'ANNOTATE_RHOCALLVIZ:CHROMOGRAPH_AUTOZYG' {
        ext.prefix = { "${autozyg.simpleName}_autozyg_chromograph" }
        ext.args = { "--euploid" }
    }
    // Setup processes
    withName: 'PREPARE_REFERENCES:UNTAR_VEP_CACHE' {
        ext.prefix = { "${name}".contains('merged') ? './vep_cache/homo_sapiens_merged/' : './vep_cache/homo_sapiens/' }
    }
    withName: 'ANNOTATE_SNVS:ENSEMBLVEP_SNV' {
        ext.args = { [
            "--dir_plugins .",
            "--plugin LoFtool,LoFtool_scores.txt",
            "--plugin pLI,pLI_values.txt",
            '--distance 5000',
            '--buffer_size 20000',
            '--format vcf --max_sv_size 248387328',
            '--appris --biotype --cache --canonical --ccds --compress_output bgzip',
            '--domains --exclude_predicted --force_overwrite',
            '--hgvs --humdiv --no_progress --numbers',
            '--polyphen p --protein --offline --regulatory --sift p --symbol --tsl',
            '--uniprot --vcf',
            '--no_stats'
        ].join(' ') }
    }
}
