process {
    
    withName: 'PREPARE_GENS_INPUTS:MOSDEPTH' {
        ext.args = { [
            '-n',
            '--fast-mode',
            '--by 100',
        ].join(' ') }
    }

    withName: 'PREPARE_GENS_INPUTS:BCFTOOLS_CONCAT' {
        ext.args = {[
            '--allow-overlaps',
            '--output-type z',
            '--write-index=tbi'
        ].join(' ')}
    }

    withName: 'PREPARE_GENS_INPUTS:GENERATE_GENS_DATA' {
        publishDir = [
            path: { "${params.outdir}/gens/${meta.id}" },
            mode: params.publish_dir_mode,
            saveAs: { filename -> filename.equals('versions.yml') ? null : filename },
        ]
    }
}